# infra/docker-compose.yml
services:
  web:
    build: ./apps/web
    ports: ["3000:3000"]
    depends_on: [api]

  api:
    build: ./apps/api
    ports: ["8000:8000"]
    volumes:
      - ./packages:/app/packages  # so Python can import hydraulics

  # redis, postgres, etc. later when you need persistence